apiVersion: argoproj.io/v1alpha1
kind : Application
metadata :
  name: myapp-argo-application
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/Kareemgomaaa98/DevOps-Project.git
    targetRevision: cd
    path: K8s
  destination:
    server: https://kubernetes.default.svc   #End point of k8s API server
    namespace: myapp
  syncPolicy:                      # By default the bleow polices set off due to safety mechanism.
    syncOptions:
    - CreateNamespace=true         # ensres that namespcae specifed exists in the destination cluster.If not, It will create it.

    automated:
     selfHeal: true                # Make ArgoCD automatically fetch and sync any new changes to the cluster.
     prune: true                   # overwrite any manual changes to the one in the repo.
